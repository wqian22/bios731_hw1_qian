---
title: 'Homework 1'
header-includes:
  - \usepackage{multirow}
output:
  pdf_document: default
urlcolor: blue
---

```{r, include=FALSE}

library(tidyverse)
knitr::opts_chunk$set(tidy = FALSE)
```


### Problem 1.1 ADEMP Structure 

Answer the following questions: 

* How many simulation scenarios will you be running?
18 scenarios.

* What are the estimand(s)
The average treatment effect ($\beta_{treatment}$)

* What method(s) are being evaluated/compared?
The study evaluates the multiple linear regression model and compares three methods for constructing confidence intervals:
  * Wald confidence intervals
  * Nonparametric bootstrap percentile intervals
  * Nonparametric bootstrap t intervals

* What are the performance measure(s)?
  * Bias of $\hat{\beta}$
  * Coverage of $\hat{\beta}$
  * Distribution of $se(\hat{\beta})$
  * Computation time across methods


### Problem 1.2 nSim 

Based on desired coverage of 95\% with Monte Carlo error of no more than 1\%, how many simulations ($n_{sim}$) should we perform for each simulation scenario?  Implement this number of simulations throughout your simulation study.

```{r}
nsim <- 0.95 * (1 - 0.95) / (0.01)^2
```

We should perform `r nsim` simulations for each scenario.


### Problem 1.3 Implementation 



### Problem 1.4 Results summary

Create a plot or table to summarize simulation results across scenarios and methods for each of the following. 

- Bias of $\hat{\beta}$
- Coverage of $\hat{\beta}$
- Distribution of $se(\hat{\beta})$
- Computation time across methods

If creating a plot, I encourage faceting. Include informative captions for each plot and/or table.

```{r}
load(here("results", "scenario_4.RDA"))
```


### Problem 1.5 Discussion

Interpret the results summarized in Problem 1.4. First, write a **paragraph** summarizing the main findings of your simulation study. Then, answer the specific questions below.

- How do the different methods for constructing confidence intervals compare in terms of computation time?
- Which method(s) for constructing confidence intervals provide the best coverage when $\epsilon_i \sim N(0, 2)$?
- Which method(s) for constructing confidence intervals provide the best coverage when $\epsilon_i \sim logNormal(0, \log (2))$?
